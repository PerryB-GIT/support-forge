# Module 8.2: Building the Client Onboarding Agent
## AI Launchpad Academy - CAPSTONE
### Duration: 40 minutes

---

## VIDEO SCRIPT

[SCREEN: "Let's Build" text with construction/building animation]

Alright. Sleeves rolled up. Coffee poured. Let's build this thing.

[SCREEN: Title card - "Module 8.2: Building the Client Onboarding Agent"]

Over the next forty minutes, we're going step by step through every component of your client onboarding agent. Follow along in your own n8n instance. Pause when you need to. By the end, you'll have a complete, working system.

[PAUSE]

Let's start with the foundation.

---

## PART 1: THE TRIGGER (8 minutes)

[SCREEN: "Part 1: The Trigger" with webhook icon]

### Setting Up the Webhook

Every automation needs a starting point. Ours is a webhook that receives form submissions.

[SCREEN: n8n interface - adding a new workflow]

Open n8n and create a new workflow. Name it "Client Onboarding Agent."

Now, add your first node. Search for "webhook" and add the Webhook node.

[SCREEN: Webhook node configuration]

Configure it like this:

HTTP Method: POST. Forms typically send data as POST requests.

Path: something memorable like "client-onboarding". This becomes part of your webhook URL.

Response Mode: "Respond immediately". We'll send a confirmation right away while processing happens in the background.

[PAUSE]

Click the node to open its settings. You'll see a URL that looks something like this:

[SCREEN: Example webhook URL]

```
https://your-n8n-instance.com/webhook/client-onboarding
```

Copy that URL. We'll need it for the form.

### Creating a Simple Test Form

[SCREEN: Google Forms or Typeform interface]

For testing, let's create a quick intake form. I'll use Google Forms, but any form builder that can send webhooks works.

Create a new form with these fields:

[SCREEN: Form fields appearing]

- Business Name (short text)
- Contact Name (short text)
- Email (email field)
- Phone (phone field)
- What services are you interested in? (paragraph text)
- Preferred meeting day (dropdown: Monday through Friday)
- Preferred meeting time (dropdown: Morning, Afternoon, Evening)

[PAUSE]

Now, connect the form to your webhook. In Google Forms, you'll need a third-party add-on like "Form Publisher" or use Zapier to forward submissions. For our capstone, we can also test directly by sending a POST request.

[SCREEN: Postman or curl example]

Here's a quick test you can run. Open a terminal or use a tool like Postman:

```bash
curl -X POST https://your-n8n-instance.com/webhook/client-onboarding \
  -H "Content-Type: application/json" \
  -d '{
    "businessName": "Sunrise Coffee Roasters",
    "contactName": "Maria Santos",
    "email": "maria@sunrisecoffee.com",
    "phone": "555-123-4567",
    "services": "We are a specialty coffee roaster looking to expand our B2B wholesale operations. Interested in marketing automation and CRM setup.",
    "preferredDay": "Tuesday",
    "preferredTime": "Morning"
  }'
```

[PAUSE]

Run that. If your webhook is set up correctly, n8n should show the data received.

[SCREEN: n8n showing received webhook data]

Excellent. The trigger is working. We have client data flowing in.

---

## PART 2: CLAUDE AI PROCESSING (10 minutes)

[SCREEN: "Part 2: AI Processing" with brain/AI icon]

### Analyzing the Client

Now comes the intelligence. We're going to send this client information to Claude and ask it to do three things:

[SCREEN: Three tasks appearing]

1. Analyze the client and their needs
2. Generate a personalized welcome email
3. Suggest a folder structure for their project

Add an HTTP Request node after your webhook.

[SCREEN: HTTP Request node configuration]

Configure it for the Claude API:

Method: POST

URL: `https://api.anthropic.com/v1/messages`

Headers:
```
x-api-key: {{ $env.CLAUDE_API_KEY }}
anthropic-version: 2023-06-01
Content-Type: application/json
```

[PAUSE]

Notice we're pulling the API key from an environment variable. Set that up in your n8n settings under "Variables" if you haven't already.

Now for the body. This is where we craft our prompt:

[SCREEN: JSON body configuration]

```json
{
  "model": "claude-sonnet-4-20250514",
  "max_tokens": 2000,
  "messages": [
    {
      "role": "user",
      "content": "You are an expert client onboarding specialist. A new client has just signed up. Analyze their information and provide three things:\n\n1. CLIENT ANALYSIS: A brief analysis of who they are, what industry they're in, and what their key needs appear to be.\n\n2. WELCOME EMAIL: A warm, personalized welcome email that acknowledges their specific business and needs. Keep it professional but friendly. Include that we'll be scheduling a call to discuss their goals.\n\n3. FOLDER STRUCTURE: Suggest a folder structure for their Google Drive project folder. Include 4-6 relevant subfolders based on the services they need.\n\nFormat your response as JSON with keys: clientAnalysis, welcomeEmail, folderStructure (array of folder names).\n\nClient Information:\nBusiness Name: {{ $json.businessName }}\nContact Name: {{ $json.contactName }}\nServices Interested In: {{ $json.services }}"
    }
  ]
}
```

[PAUSE]

Let's break down what we're asking Claude to do.

First, we're giving it a clear role: client onboarding specialist. This focuses its responses.

Second, we're requesting structured output. By asking for JSON with specific keys, we can easily use Claude's response in subsequent nodes.

Third, we're providing all the relevant context from our form submission using n8n's expression syntax.

[SCREEN: Claude response example]

When you run this, Claude returns something like:

```json
{
  "clientAnalysis": "Sunrise Coffee Roasters is a specialty coffee business focused on B2B wholesale expansion. Their primary needs center on scaling their operations through marketing automation to reach potential wholesale clients and CRM implementation to manage growing business relationships.",
  "welcomeEmail": "Dear Maria,\n\nThank you for choosing to partner with us! We're thrilled to welcome Sunrise Coffee Roasters to our client family.\n\nYour focus on expanding B2B wholesale operations is an exciting growth phase, and we're here to help you build the systems to support that growth. Marketing automation and CRM are exactly the right tools for scaling a wholesale business like yours.\n\nWe'll be reaching out shortly to schedule a discovery call where we can dive deeper into your goals and create a roadmap tailored to Sunrise Coffee Roasters.\n\nLooking forward to helping your business reach new heights!\n\nWarm regards,\n[Your Team]",
  "folderStructure": [
    "00 - Onboarding & Contracts",
    "01 - Brand Assets & Marketing Materials",
    "02 - CRM Documentation",
    "03 - Automation Workflows",
    "04 - Analytics & Reports",
    "05 - Meeting Notes & Correspondence"
  ]
}
```

[PAUSE]

That's remarkable. Claude didn't just fill in blanks. It understood that a coffee roaster expanding wholesale has different needs than, say, a retail shop. The email acknowledges their specific situation. The folder structure is tailored to marketing and CRM work.

### Parsing Claude's Response

Add a "Set" node after the HTTP Request to parse Claude's response.

[SCREEN: Set node configuration]

In the Set node, we'll extract the data we need:

```javascript
clientAnalysis: {{ JSON.parse($json.content[0].text).clientAnalysis }}
welcomeEmail: {{ JSON.parse($json.content[0].text).welcomeEmail }}
folderStructure: {{ JSON.parse($json.content[0].text).folderStructure }}
```

Now we have clean, usable data for the rest of our workflow.

---

## PART 3: GOOGLE DRIVE FOLDER CREATION (6 minutes)

[SCREEN: "Part 3: Google Drive Setup" with folder icon]

### Creating the Parent Folder

Time to create the client's folder structure in Google Drive.

First, add a Google Drive node.

[SCREEN: Google Drive node - Create Folder]

Configure it:

Operation: Create Folder
Name: `{{ $('Webhook').item.json.businessName }} - Client Folder`
Parent Folder: Select your "Clients" folder or wherever you keep client folders

[PAUSE]

This creates the parent folder. But we also need to create the subfolders that Claude suggested.

### Creating Subfolders with a Loop

Here's where it gets clever. We have an array of folder names from Claude. We need to create each one as a subfolder.

Add a "Split In Batches" node. This takes our array and processes each item one at a time.

[SCREEN: Split In Batches configuration]

Set the batch size to 1. The input is the folderStructure array from Claude's response.

After the Split In Batches node, add another Google Drive node:

[SCREEN: Second Google Drive node]

Operation: Create Folder
Name: `{{ $json.folderName }}`
Parent Folder: `{{ $('Google Drive - Create Parent Folder').item.json.id }}`

This creates each subfolder inside the parent folder we just made.

[PAUSE]

Connect the output of this back to the Split In Batches node to complete the loop. When all items are processed, the workflow continues to the next step.

[SCREEN: Loop visualization in n8n]

When this runs, you get a beautiful folder structure:

```
Sunrise Coffee Roasters - Client Folder/
├── 00 - Onboarding & Contracts/
├── 01 - Brand Assets & Marketing Materials/
├── 02 - CRM Documentation/
├── 03 - Automation Workflows/
├── 04 - Analytics & Reports/
└── 05 - Meeting Notes & Correspondence/
```

All created automatically. All customized to this specific client's needs.

---

## PART 4: GOOGLE SHEETS LOGGING (5 minutes)

[SCREEN: "Part 4: CRM Logging" with spreadsheet icon]

### Setting Up the Client Tracker Sheet

Every new client should be logged somewhere you can track them. Let's use Google Sheets as a simple CRM.

First, create a Google Sheet called "Client Tracker" with these columns:

[SCREEN: Spreadsheet headers]

- Date Added
- Business Name
- Contact Name
- Email
- Phone
- Services Requested
- Drive Folder Link
- Status
- Notes

[PAUSE]

Now add a Google Sheets node to your workflow.

[SCREEN: Google Sheets node configuration]

Operation: Append Row
Spreadsheet: Client Tracker
Sheet: Sheet1

Map the fields:

```
Date Added: {{ $now.toISO() }}
Business Name: {{ $('Webhook').item.json.businessName }}
Contact Name: {{ $('Webhook').item.json.contactName }}
Email: {{ $('Webhook').item.json.email }}
Phone: {{ $('Webhook').item.json.phone }}
Services Requested: {{ $('Webhook').item.json.services }}
Drive Folder Link: {{ $('Google Drive - Create Parent Folder').item.json.webViewLink }}
Status: New
Notes: {{ $('Set Claude Response').item.json.clientAnalysis }}
```

[PAUSE]

Look at that "Notes" field. We're using Claude's client analysis as the initial notes. Your team sees a pre-populated understanding of who this client is and what they need.

---

## PART 5: CALENDAR SCHEDULING (5 minutes)

[SCREEN: "Part 5: Calendar Integration" with calendar icon]

### Scheduling the Welcome Call

The client indicated their preferred day and time. Let's schedule a welcome call.

Add a Google Calendar node.

[SCREEN: Google Calendar node configuration]

Operation: Create Event
Calendar: Select your calendar
Title: `Welcome Call - {{ $('Webhook').item.json.businessName }}`
Description: Include the client analysis and contact info
Start: This requires some logic

[PAUSE]

For the start time, we need to convert "Tuesday" and "Morning" into an actual date and time. Here's how:

Add a "Code" node before the calendar node:

[SCREEN: Code node]

```javascript
const dayMap = {
  'Monday': 1, 'Tuesday': 2, 'Wednesday': 3,
  'Thursday': 4, 'Friday': 5
};

const timeMap = {
  'Morning': '09:00',
  'Afternoon': '14:00',
  'Evening': '16:00'
};

const preferredDay = $('Webhook').item.json.preferredDay;
const preferredTime = $('Webhook').item.json.preferredTime;

// Find the next occurrence of the preferred day
const today = new Date();
const targetDay = dayMap[preferredDay];
let daysUntilTarget = targetDay - today.getDay();
if (daysUntilTarget <= 0) daysUntilTarget += 7;

const meetingDate = new Date(today);
meetingDate.setDate(today.getDate() + daysUntilTarget);

const [hours, minutes] = timeMap[preferredTime].split(':');
meetingDate.setHours(parseInt(hours), parseInt(minutes), 0, 0);

const endDate = new Date(meetingDate);
endDate.setMinutes(endDate.getMinutes() + 30);

return {
  startTime: meetingDate.toISOString(),
  endTime: endDate.toISOString()
};
```

[PAUSE]

Now use those values in your Calendar node:

Start Time: `{{ $json.startTime }}`
End Time: `{{ $json.endTime }}`
Add attendee: `{{ $('Webhook').item.json.email }}`

The client gets a calendar invite for their preferred time. Automatic and thoughtful.

---

## PART 6: SENDING THE WELCOME EMAIL (4 minutes)

[SCREEN: "Part 6: Welcome Email" with envelope icon]

### Sending via Gmail

Time to send that personalized welcome email Claude wrote.

Add a Gmail node.

[SCREEN: Gmail node configuration]

Operation: Send Email
To: `{{ $('Webhook').item.json.email }}`
Subject: `Welcome to [Your Company], {{ $('Webhook').item.json.contactName }}!`
Body: `{{ $('Set Claude Response').item.json.welcomeEmail }}`

[PAUSE]

Want to make it even better? Change the body format to HTML and add some simple formatting:

```html
<div style="font-family: Arial, sans-serif; line-height: 1.6;">
{{ $('Set Claude Response').item.json.welcomeEmail.replace(/\n/g, '<br>') }}
</div>
```

The client receives a warm, personalized welcome that acknowledges their specific business and needs. Not a generic template. A thoughtful message that makes them feel valued from day one.

---

## PART 7: SLACK TEAM NOTIFICATION (3 minutes)

[SCREEN: "Part 7: Team Notification" with Slack icon]

### Alerting the Team

Finally, let's make sure your team knows a new client just came aboard.

Add a Slack node.

[SCREEN: Slack node configuration]

Operation: Send Message
Channel: #new-clients (or wherever you want notifications)
Message:

```
:tada: *New Client Alert!*

*Business:* {{ $('Webhook').item.json.businessName }}
*Contact:* {{ $('Webhook').item.json.contactName }}
*Email:* {{ $('Webhook').item.json.email }}

*Services Requested:*
{{ $('Webhook').item.json.services }}

*Quick Analysis:*
{{ $('Set Claude Response').item.json.clientAnalysis }}

*Welcome call scheduled for:* {{ $('Calculate Meeting Time').item.json.startTime }}
*Drive folder:* {{ $('Google Drive - Create Parent Folder').item.json.webViewLink }}

<@account-manager-id> You've got a new one!
```

[PAUSE]

Your team sees all the relevant info at a glance. They know what the client needs, when the call is, and where the files are. No digging. No asking around. Everything they need to hit the ground running.

---

## PART 8: PUTTING IT ALL TOGETHER (2 minutes)

[SCREEN: Complete workflow visualization]

Let's look at what we've built.

[SCREEN: Workflow zooming out to show full picture]

Starting from the left:

1. **Webhook** receives the form submission
2. **Claude AI** analyzes the client and generates personalized content
3. **Set** node parses Claude's response
4. **Google Drive** creates the parent folder
5. **Loop** creates each subfolder
6. **Google Sheets** logs the client data
7. **Code** node calculates meeting time
8. **Google Calendar** schedules the welcome call
9. **Gmail** sends the personalized welcome email
10. **Slack** notifies the team

[PAUSE]

That's ten nodes working together as one intelligent system. A complete client onboarding agent.

[SCREEN: "Activate Your Workflow" button]

One more thing: toggle your workflow to "Active" so it runs automatically when triggered.

---

## SECTION 9: WHAT YOU JUST ACCOMPLISHED

[SCREEN: Achievement unlocked graphic]

Take a breath. Seriously.

[PAUSE]

You just built an AI agent that:

- Receives client data in real-time
- Uses Claude to intelligently analyze and respond
- Creates organized infrastructure automatically
- Logs everything to a central tracker
- Schedules meetings based on preferences
- Sends personalized communications
- Keeps your team informed

[PAUSE]

This isn't a demo. This is a production-grade system. Businesses pay good money for exactly this kind of automation.

[SCREEN: "Next: 8.3 - Testing & Refinement"]

In the next module, we'll test this thoroughly. We'll find edge cases. We'll make it bulletproof.

[SCREEN: End card with AI Launchpad Academy logo]

See you in module eight point three.

---

## PRODUCTION NOTES

- Pacing: Instructional but not slow. Keep energy up.
- Screen recordings: Heavy screen recording for this module. Show every click.
- Pauses: Build in natural pause points for viewers to catch up.
- Split consideration: This 40-minute module could be split into two parts for viewer comfort.
- Code blocks: Display code clearly with syntax highlighting.
- Checkpoints: Consider adding visual "checkpoint" markers where viewers can test their progress.

---

## KEY TERMS FOR PRONUNCIATION

- n8n: "en-eight-en"
- webhook: "WEB-hook"
- JSON: "JAY-son"
- API: "A-P-I" (spelled out)
- OAuth: "oh-auth"
- anthropic-version: "an-THROP-ic version"
- toISOString: "to I-S-O string"
- parseInt: "parse-int"
- webViewLink: "web view link"
